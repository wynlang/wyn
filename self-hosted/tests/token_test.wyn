// Token Tests - TDD for token data structures

fn test_token_creation() -> int {
    var token = token_new(INT, 1, 0)
    
    if token.token_type != INT {
        return 0
    }
    if token.line != 1 {
        return 0
    }
    if token.column != 0 {
        return 0
    }
    
    return 1
}

fn test_token_equality() -> int {
    var token1 = token_new(INT, 1, 0)
    var token2 = token_new(INT, 1, 0)
    var token3 = token_new(FLOAT, 1, 0)
    
    var eq1 = token_equals(token1, token2)
    if eq1 == 0 {
        return 0
    }
    
    var eq2 = token_equals(token1, token3)
    if eq2 != 0 {
        return 0
    }
    
    return 1
}

fn test_token_types() -> int {
    // Test all token types can be created
    var int_tok = token_new(INT, 1, 0)
    var float_tok = token_new(FLOAT, 1, 0)
    var string_tok = token_new(STRING, 1, 0)
    var ident_tok = token_new(IDENT, 1, 0)
    var keyword_tok = token_new(FN, 1, 0)
    
    return 1
}

fn run_all_tests() -> int {
    var passed = 0
    var failed = 0
    
    if test_token_creation() {
        passed = passed + 1
    } else {
        failed = failed + 1
    }
    
    if test_token_equality() {
        passed = passed + 1
    } else {
        failed = failed + 1
    }
    
    if test_token_types() {
        passed = passed + 1
    } else {
        failed = failed + 1
    }
    
    // Print results
    var total = passed + failed
    
    if failed == 0 {
        return 0
    }
    return 1
}

fn main() -> int {
    return run_all_tests()
}

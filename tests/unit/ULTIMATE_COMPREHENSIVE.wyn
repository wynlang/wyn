// Ultimate comprehensive test of ALL working features

struct Point {
    x: int,
    y: int
}

enum Status {
    PENDING,
    RUNNING,
    DONE
}

type UserId = int;
type Score = int;

fn identity<T>(val: T) -> T {
    return val;
}

fn main() -> int {
    // 1. Variables (mutable and immutable)
    var x = 10;
    var y = 20;
    y = 30;
    
    // 2. Structs
    var p = Point { x: 5, y: 10 };
    
    // 3. Arrays
    var arr = [1, 2, 3];
    
    // 4. Enums
    var status = DONE;
    
    // 5. Type aliases
    var id: UserId = 123;
    var score: Score = 456;
    
    // 6. Generics
    var val = identity(42);
    
    // 7. Control flow (if/else)
    if val == 42 {
        var temp = 1;
    } else {
        var temp = 0;
    }
    
    // 8. While loops with break
    var counter = 0;
    while counter < 10 {
        counter = counter + 1;
        if counter == 5 {
            break;
        }
    }
    
    // 9. For loops with continue
    var total = 0;
    for i in 0..10 {
        if i == 5 {
            continue;
        }
        total = total + i;
    }
    
    // 10. Pattern matching (expression)
    var result = match val {
        42 => 100,
        _ => 0
    };
    
    // 11. Pattern matching (statement)
    var final_val = 0;
    match result {
        100 => final_val = 99,
        _ => final_val = 0
    }
    
    // 12. Result types
    var success = ok(42);
    var failure = err(1);
    
    // 13. Optional types
    var maybe = some(42);
    var nothing = none;
    
    // 14. Strings
    var msg = "hello";
    
    // 15. Booleans
    var flag = true;
    var other = false;
    
    // 16. Logical operators
    if flag and not other {
        var temp = 1;
    }
    
    // 17. Comparison operators
    if x > 5 and x < 15 and x >= 10 and x <= 10 and x != 5 {
        var temp = 1;
    }
    
    // 18. Float literals
    var pi = 3.14;
    
    // 19. Arithmetic
    var sum = 10 + 20;
    var diff = 30 - 10;
    var prod = 5 * 6;
    var quot = 20 / 4;
    
    return 77;
}

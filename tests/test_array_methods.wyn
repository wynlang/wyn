// Test all 10 essential array methods

fn is_even(x: int) -> int {
    return x % 2 == 0;
}

fn is_positive(x: int) -> int {
    return x > 0;
}

fn main() {
    // Test data
    let arr = [1, 2, 3, 4, 5, 2, 6];
    let empty_arr: [int] = [];
    
    print("Testing 10 essential array methods:");
    
    // 1. wyn_array_find - Find first matching element
    let found: int;
    let result = wyn_array_find(arr.data, arr.len, is_even, &found);
    if (found) {
        print("1. find(is_even): " + str(result)); // Should be 2
    } else {
        print("1. find(is_even): not found");
    }
    
    // 2. wyn_array_find_index - Find index of first matching element
    let index = wyn_array_find_index(arr.data, arr.len, is_even);
    print("2. find_index(is_even): " + str(index)); // Should be 1
    
    // 3. wyn_array_reverse - Reverse array in place
    let rev_arr = [1, 2, 3, 4, 5];
    wyn_array_reverse(rev_arr.data, rev_arr.len);
    print("3. reverse([1,2,3,4,5]): [" + str(rev_arr[0]) + "," + str(rev_arr[1]) + "," + str(rev_arr[2]) + "," + str(rev_arr[3]) + "," + str(rev_arr[4]) + "]");
    
    // 4. wyn_array_unique - Remove duplicates
    let unique_len: int;
    let unique_arr = wyn_array_unique(arr.data, arr.len, &unique_len);
    print("4. unique([1,2,3,4,5,2,6]) length: " + str(unique_len)); // Should be 6
    
    // 5. wyn_array_join - Join to string
    let joined = wyn_array_join(arr.data, arr.len, ",");
    print("5. join([1,2,3,4,5,2,6], ','): " + joined);
    
    // 6. wyn_array_slice - Get subarray
    let slice_len: int;
    let slice_arr = wyn_array_slice(arr.data, 1, 4, &slice_len);
    print("6. slice([1,2,3,4,5,2,6], 1, 4) length: " + str(slice_len)); // Should be 3
    
    // 7. wyn_array_contains - Check if contains value
    let contains_3 = wyn_array_contains(arr.data, arr.len, 3);
    let contains_10 = wyn_array_contains(arr.data, arr.len, 10);
    print("7. contains(3): " + str(contains_3) + ", contains(10): " + str(contains_10));
    
    // 8. wyn_array_first - Get first element
    let first_found: int;
    let first_val = wyn_array_first(arr.data, arr.len, &first_found);
    if (first_found) {
        print("8. first([1,2,3,4,5,2,6]): " + str(first_val)); // Should be 1
    }
    
    // 9. wyn_array_last - Get last element
    let last_found: int;
    let last_val = wyn_array_last(arr.data, arr.len, &last_found);
    if (last_found) {
        print("9. last([1,2,3,4,5,2,6]): " + str(last_val)); // Should be 6
    }
    
    // 10. wyn_array_is_empty - Check if empty
    let is_empty_arr = wyn_array_is_empty(arr.data, arr.len);
    let is_empty_empty = wyn_array_is_empty(empty_arr.data, empty_arr.len);
    print("10. is_empty(arr): " + str(is_empty_arr) + ", is_empty(empty): " + str(is_empty_empty));
    
    print("All array methods tested successfully!");
}
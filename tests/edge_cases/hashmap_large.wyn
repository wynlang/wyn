// Test HashMap with 1000+ entries for performance and collision handling
fn main() -> int {
    var map = wyn_hashmap_new();
    var count = 1500;
    
    print("Testing HashMap with ");
    print(count);
    print(" entries\n");
    
    // Insert 1500 entries (using same key to test overwriting)
    var i = 0;
    while (i < count) {
        wyn_hashmap_insert_int(map, "key", i * 2);
        i = i + 1;
    }
    
    // Verify length (should be 1 since we keep overwriting the same key)
    var len = wyn_hashmap_len(map);
    print("Map length after insertions: ");
    print(len);
    print("\n");
    
    // Test final value (should be the last inserted value)
    var val = wyn_hashmap_get_int(map, "key");
    print("Final value: ");
    print(val);
    print("\n");
    
    // Test contains
    var has_key = wyn_hashmap_has(map, "key");
    print("Contains key: ");
    print(has_key);
    print("\n");
    
    // Test with multiple different keys
    wyn_hashmap_insert_int(map, "key1", 100);
    wyn_hashmap_insert_int(map, "key2", 200);
    wyn_hashmap_insert_int(map, "key3", 300);
    wyn_hashmap_insert_int(map, "key4", 400);
    wyn_hashmap_insert_int(map, "key5", 500);
    
    var final_len = wyn_hashmap_len(map);
    print("Length with multiple keys: ");
    print(final_len);
    print("\n");
    
    // Verify all keys exist
    var all_exist = 1;
    if (!wyn_hashmap_has(map, "key1")) {
        all_exist = 0;
    }
    if (!wyn_hashmap_has(map, "key2")) {
        all_exist = 0;
    }
    if (!wyn_hashmap_has(map, "key3")) {
        all_exist = 0;
    }
    if (!wyn_hashmap_has(map, "key4")) {
        all_exist = 0;
    }
    if (!wyn_hashmap_has(map, "key5")) {
        all_exist = 0;
    }
    
    print("All keys exist: ");
    print(all_exist);
    print("\n");
    
    wyn_hashmap_free(map);
    print("Large HashMap test completed\n");
    return 0;
}
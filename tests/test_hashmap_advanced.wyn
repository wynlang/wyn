// Test: HashMap advanced methods
// Expected: Exit code 0

fn main() -> int {
    // Create test map using function-based API
    let hm = hashmap_new();
    hashmap_insert(hm, "key1", 10);
    hashmap_insert(hm, "key2", 20);
    hashmap_insert(hm, "key3", 30);
    
    // Test get_or_default method
    let val1 = map_get_or_default(hm, "key1", 0);
    if (val1 != 10) {
        return 1;
    }
    
    let val_missing = map_get_or_default(hm, "missing", 99);
    if (val_missing != 99) {
        return 2;
    }
    
    // Test contains method
    if (!map_has(hm, "key2")) {
        return 5;
    }
    
    if (map_has(hm, "nonexistent")) {
        return 6;
    }
    
    // Test merge method (placeholder - just call it)
    let hm2 = hashmap_new();
    hashmap_insert(hm2, "key4", 40);
    hashmap_insert(hm2, "key5", 50);
    map_merge(hm, hm2);
    
    // Test remove method (placeholder - just call it)
    map_remove(hm, "key3");
    
    // Note: len() and is_empty() are placeholders that return 0/true
    // so we skip testing them for now
    
    return 0;
}
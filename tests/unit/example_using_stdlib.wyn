// Example: Real program using stdlib modules

// Math functions
fn abs_example(x: int) -> int {
    if x < 0 { return 0 - x; }
    return x;
}

fn max_example(a: int, b: int) -> int {
    if a > b { return a; }
    return b;
}

// Array functions
fn array_sum_example(arr: [int], len: int) -> int {
    var total = 0;
    var i = 0;
    while i < len {
        total = total + arr[i];
        i = i + 1;
    }
    return total;
}

fn array_max_example(arr: [int], len: int) -> int {
    if len == 0 { return 0; }
    var maximum = arr[0];
    var i = 1;
    while i < len {
        if arr[i] > maximum {
            maximum = arr[i];
        }
        i = i + 1;
    }
    return maximum;
}

// Time functions
fn is_leap_year(year: int) -> int {
    var div4 = year % 4;
    if div4 == 0 { return 1; }
    return 0;
}

fn days_in_month(month: int) -> int {
    if month == 2 { return 28; }
    if month == 4 { return 30; }
    return 31;
}

// Real application: Calculate project statistics
fn main() -> int {
    // Project data: hours worked per day
    var hours = [8, 6, 9, 7, 8];
    
    // Calculate total hours using array stdlib
    var total_hours = array_sum_example(hours, 5);  // 38
    
    // Find maximum hours using array stdlib
    var max_hours = array_max_example(hours, 5);    // 9
    
    // Calculate difference using math stdlib
    var diff = abs_example(max_hours - 8);          // 1
    
    // Get days in month using time stdlib
    var days = days_in_month(1);                // 31
    
    // Check leap year using time stdlib
    var leap = is_leap_year(2024);              // 1
    
    // Return combined result: 38 + 9 + 1 + 31 + 1 = 80
    return total_hours + max_hours + diff + days + leap;
}

// Final comprehensive test of all working features

struct Point {
    x: int,
    y: int
}

enum Status {
    PENDING,
    RUNNING,
    DONE
}

type UserId = int;

fn identity<T>(val: T) -> T {
    return val;
}

fn main() -> int {
    // 1. Variables (mutable and immutable)
    var x = 10;
    var y = 20;
    y = 30;
    
    // 2. Structs
    var p = Point { x: 5, y: 10 };
    
    // 3. Arrays
    var arr = [1, 2, 3];
    
    // 4. Enums
    var status = DONE;
    
    // 5. Type aliases
    var id: UserId = 123;
    
    // 6. Generics
    var val = identity(42);
    
    // 7. Control flow
    if val == 42 {
        var temp = 1;
    }
    
    // 8. While loops
    var counter = 0;
    while counter < 3 {
        counter = counter + 1;
    }
    
    // 9. For loops
    var total = 0;
    for i in 0..5 {
        total = total + i;
    }
    
    // 10. Pattern matching
    var result = match val {
        42 => 100,
        _ => 0
    };
    
    // 11. Result types
    var success = ok(42);
    var failure = err(1);
    
    // 12. Optional types
    var maybe = some(42);
    var nothing = none;
    
    return 88;
}

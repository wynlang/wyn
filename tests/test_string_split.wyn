// TDD Test: String split and lines

fn test_string_split_basic() -> int {
    var text = "a,b,c"
    var parts = text.split(",")
    
    var count = parts.len()
    if count == 3 {
        var p0 = parts[0]
        var p2 = parts[2]
        var e0 = "a"
        var e2 = "c"
        if p0 == e0 {
            if p2 == e2 {
                print("PASS: string.split() basic\n")
                return 0
            }
        }
    }
    print("FAIL: string.split() basic\n")
    return 1
}

fn test_string_split_spaces() -> int {
    var text = "hello world test"
    var parts = text.split(" ")
    
    var count = parts.len()
    if count == 3 {
        print("PASS: string.split() spaces\n")
        return 0
    }
    print("FAIL: string.split() spaces\n")
    return 1
}

fn test_string_split_single() -> int {
    var text = "single"
    var parts = text.split(",")
    
    var count = parts.len()
    if count == 1 {
        print("PASS: string.split() single\n")
        return 0
    }
    print("FAIL: string.split() single\n")
    return 1
}

fn main() -> int {
    print("=== String Split Tests ===\n")
    var failures = 0
    failures = failures + test_string_split_basic()
    failures = failures + test_string_split_spaces()
    failures = failures + test_string_split_single()
    
    if failures == 0 {
        print("\nAll tests PASSED!\n")
    }
    return failures
}

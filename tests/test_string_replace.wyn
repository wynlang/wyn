// TDD Test: String replace operations

fn test_string_replace_single() -> int {
    var text = "hello world"
    var result = text.replace("world", "there")
    var expected = "hello there"
    if result == expected {
        print("PASS: string.replace() single\n")
        return 0
    }
    print("FAIL: string.replace() single\n")
    return 1
}

fn test_string_replace_multiple() -> int {
    var text = "foo bar foo"
    var result = text.replace("foo", "baz")
    var expected = "baz bar baz"
    if result == expected {
        print("PASS: string.replace() multiple\n")
        return 0
    }
    print("FAIL: string.replace() multiple\n")
    return 1
}

fn test_string_replace_no_match() -> int {
    var text = "hello"
    var result = text.replace("xyz", "abc")
    var expected = "hello"
    if result == expected {
        print("PASS: string.replace() no match\n")
        return 0
    }
    print("FAIL: string.replace() no match\n")
    return 1
}

fn test_string_replace_empty() -> int {
    var text = "test"
    var result = text.replace("test", "")
    var expected = ""
    if result == expected {
        print("PASS: string.replace() to empty\n")
        return 0
    }
    print("FAIL: string.replace() to empty\n")
    return 1
}

fn main() -> int {
    print("=== String Replace Tests ===\n")
    var failures = 0
    failures = failures + test_string_replace_single()
    failures = failures + test_string_replace_multiple()
    failures = failures + test_string_replace_no_match()
    failures = failures + test_string_replace_empty()
    
    if failures == 0 {
        print("\nAll tests PASSED!\n")
    }
    return failures
}

// Real-World Test: Simple Calculator
// Evaluate arithmetic expressions

fn calculate_add(a: int, b: int) -> int {
    return a + b
}

fn calculate_subtract(a: int, b: int) -> int {
    return a - b
}

fn calculate_multiply(a: int, b: int) -> int {
    return a * b
}

fn calculate_divide(a: int, b: int) -> int {
    if b == 0 {
        return 0  // Error case - should use Result type
    }
    return a / b
}

fn test_calculator_add() -> int {
    var result = calculate_add(10, 5)
    if result == 15 {
        print("PASS: calculator add\n")
        return 0
    }
    return 1
}

fn test_calculator_subtract() -> int {
    var result = calculate_subtract(10, 3)
    if result == 7 {
        print("PASS: calculator subtract\n")
        return 0
    }
    return 1
}

fn test_calculator_multiply() -> int {
    var result = calculate_multiply(6, 7)
    if result == 42 {
        print("PASS: calculator multiply\n")
        return 0
    }
    return 1
}

fn test_calculator_divide() -> int {
    var result = calculate_divide(20, 4)
    if result == 5 {
        print("PASS: calculator divide\n")
        return 0
    }
    return 1
}

fn test_calculator_divide_by_zero() -> int {
    var result = calculate_divide(10, 0)
    if result == 0 {
        print("PASS: calculator divide by zero\n")
        return 0
    }
    return 1
}

fn main() -> int {
    print("=== Real-World: Calculator ===\n")
    var failures = 0
    failures = failures + test_calculator_add()
    failures = failures + test_calculator_subtract()
    failures = failures + test_calculator_multiply()
    failures = failures + test_calculator_divide()
    failures = failures + test_calculator_divide_by_zero()
    
    if failures == 0 {
        print("\nAll tests PASSED!\n")
    }
    return failures
}

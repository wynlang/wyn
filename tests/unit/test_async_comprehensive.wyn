// Comprehensive async/await test
async fn compute() -> int {
    return 10;
}

async fn add(x: int, y: int) -> int {
    return x + y;
}

async fn chain() -> int {
    var a = await compute();
    var b = await compute();
    return a + b;
}

fn main() -> int {
    var result1 = await compute();
    var result2 = await add(5, 7);
    var result3 = await chain();
    
    if (result1 != 10) { return 1; }
    if (result2 != 12) { return 2; }
    if (result3 != 20) { return 3; }
    
    return 99;
}

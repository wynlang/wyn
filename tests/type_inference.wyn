// T2.5.4: Type Inference Improvements Test
// Tests enhanced local variable, function return, and generic type inference

fn test_variable_inference() {
    // Local variable type inference
    var x = 42;        // Should infer int
    var y = 3.14;      // Should infer float  
    var name = "test"; // Should infer string
    var flag = true;   // Should infer bool
    
    // Binary operation inference
    var sum = x + 10;     // Should infer int
    var result = y * 2.0; // Should infer float
    var check = x > 5;    // Should infer bool
    
    print("Variable inference test passed");
}

fn test_function_return_inference() {
    // Function with inferred return type
    fn get_number() {
        return 42;  // Should infer int return type
    }
    
    fn get_message() {
        return "hello";  // Should infer string return type
    }
    
    fn is_valid() {
        return true;  // Should infer bool return type
    }
    
    var num = get_number();
    var msg = get_message();
    var valid = is_valid();
    
    print("Function return inference test passed");
}

fn test_complex_inference() {
    // Complex expression inference
    var a = 10;
    var b = 20;
    var c = a + b * 2;  // Should infer int
    
    // Function call inference
    fn calculate(x: int, y: int) -> int {
        return x * y + 5;
    }
    
    var result = calculate(a, b);  // Should infer int from function return
    
    print("Complex inference test passed");
}

fn main() {
    print("=== T2.5.4 Type Inference Improvements Test ===");
    
    test_variable_inference();
    test_function_return_inference();
    test_complex_inference();
    
    print("All type inference tests completed successfully!");
    return 0;
}

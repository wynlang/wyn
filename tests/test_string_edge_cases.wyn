// TDD Test: String edge cases

fn test_empty_string_len() -> int {
    var s = ""
    var size = s.len()
    if size == 0 {
        print("PASS: empty string len\n")
        return 0
    }
    print("FAIL: empty string should have len 0\n")
    return 1
}

fn test_empty_string_is_empty() -> int {
    var s = ""
    var empty = s.is_empty()
    if empty == 1 {
        print("PASS: empty string is_empty\n")
        return 0
    }
    print("FAIL: empty string should be empty\n")
    return 1
}

fn test_single_char() -> int {
    var s = "a"
    var size = s.len()
    if size == 1 {
        print("PASS: single char string\n")
        return 0
    }
    print("FAIL: single char should have len 1\n")
    return 1
}

fn test_string_contains_true() -> int {
    var s = "hello world"
    var has = s.contains("world")
    if has == 1 {
        print("PASS: string.contains() true\n")
        return 0
    }
    print("FAIL: string.contains('world') should be true\n")
    return 1
}

fn test_string_contains_false() -> int {
    var s = "hello"
    var has = s.contains("xyz")
    if has == 0 {
        print("PASS: string.contains() false\n")
        return 0
    }
    print("FAIL: string.contains('xyz') should be false\n")
    return 1
}

fn test_string_starts_with_true() -> int {
    var s = "hello world"
    var starts = s.starts_with("hello")
    if starts == 1 {
        print("PASS: string.starts_with() true\n")
        return 0
    }
    print("FAIL: string.starts_with('hello') should be true\n")
    return 1
}

fn test_string_starts_with_false() -> int {
    var s = "hello"
    var starts = s.starts_with("world")
    if starts == 0 {
        print("PASS: string.starts_with() false\n")
        return 0
    }
    print("FAIL: string.starts_with('world') should be false\n")
    return 1
}

fn test_string_ends_with_true() -> int {
    var s = "hello world"
    var ends = s.ends_with("world")
    if ends == 1 {
        print("PASS: string.ends_with() true\n")
        return 0
    }
    print("FAIL: string.ends_with('world') should be true\n")
    return 1
}

fn test_string_ends_with_false() -> int {
    var s = "hello"
    var ends = s.ends_with("xyz")
    if ends == 0 {
        print("PASS: string.ends_with() false\n")
        return 0
    }
    print("FAIL: string.ends_with('xyz') should be false\n")
    return 1
}

fn main() -> int {
    print("=== String Edge Cases Tests ===\n")
    var failures = 0
    failures = failures + test_empty_string_len()
    failures = failures + test_empty_string_is_empty()
    failures = failures + test_single_char()
    failures = failures + test_string_contains_true()
    failures = failures + test_string_contains_false()
    failures = failures + test_string_starts_with_true()
    failures = failures + test_string_starts_with_false()
    failures = failures + test_string_ends_with_true()
    failures = failures + test_string_ends_with_false()
    
    if failures == 0 {
        print("\nAll tests PASSED!\n")
    }
    return failures
}

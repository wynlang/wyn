// TDD Test: File I/O edge cases

fn test_file_empty_content() -> int {
    var filename = "/tmp/wyn_test_empty.txt"
    var content = ""
    
    File::write(filename, content)
    var read_content = File::read(filename)
    
    if read_content == content {
        print("PASS: File empty content\n")
        File::delete(filename)
        return 0
    }
    print("FAIL: File empty content\n")
    File::delete(filename)
    return 1
}

fn test_file_multiline() -> int {
    var filename = "/tmp/wyn_test_multiline.txt"
    var content = "line1\nline2\nline3"
    
    File::write(filename, content)
    var read_content = File::read(filename)
    
    if read_content == content {
        print("PASS: File multiline\n")
        File::delete(filename)
        return 0
    }
    print("FAIL: File multiline\n")
    File::delete(filename)
    return 1
}

fn test_file_special_chars() -> int {
    var filename = "/tmp/wyn_test_special.txt"
    var content = "Hello\tWorld\n!"
    
    File::write(filename, content)
    var read_content = File::read(filename)
    
    if read_content == content {
        print("PASS: File special chars\n")
        File::delete(filename)
        return 0
    }
    print("FAIL: File special chars\n")
    File::delete(filename)
    return 1
}

fn test_file_exists_nonexistent() -> int {
    var filename = "/tmp/wyn_nonexistent_file_12345.txt"
    var exists = File::exists(filename)
    
    if exists == 0 {
        print("PASS: File exists nonexistent\n")
        return 0
    }
    print("FAIL: File exists nonexistent\n")
    return 1
}

fn main() -> int {
    print("=== File I/O Edge Cases Tests ===\n")
    var failures = 0
    failures = failures + test_file_empty_content()
    failures = failures + test_file_multiline()
    failures = failures + test_file_special_chars()
    failures = failures + test_file_exists_nonexistent()
    
    if failures == 0 {
        print("\nAll tests PASSED!\n")
    }
    return failures
}

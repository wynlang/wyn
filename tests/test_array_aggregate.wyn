// TDD Test: Array min, max, sum, average

fn test_min() -> int {
    var nums = [5, 2, 8, 1, 9, 3]
    var result = nums.min()
    if result == 1 {
        print("PASS: array.min()\n")
        return 0
    }
    print("FAIL: array.min() expected 1\n")
    return 1
}

fn test_max() -> int {
    var nums = [5, 2, 8, 1, 9, 3]
    var result = nums.max()
    if result == 9 {
        print("PASS: array.max()\n")
        return 0
    }
    print("FAIL: array.max() expected 9\n")
    return 1
}

fn test_sum() -> int {
    var nums = [1, 2, 3, 4, 5]
    var result = nums.sum()
    if result == 15 {
        print("PASS: array.sum()\n")
        return 0
    }
    print("FAIL: array.sum() expected 15\n")
    return 1
}

fn test_average() -> int {
    var nums = [2, 4, 6, 8]
    var result = nums.average()
    if result == 5 {
        print("PASS: array.average()\n")
        return 0
    }
    print("FAIL: array.average() expected 5\n")
    return 1
}

fn main() -> int {
    print("=== Array Aggregate Tests ===\n")
    var failures = 0
    failures = failures + test_min()
    failures = failures + test_max()
    failures = failures + test_sum()
    failures = failures + test_average()
    
    if failures == 0 {
        print("\nAll tests PASSED!\n")
    }
    return failures
}
